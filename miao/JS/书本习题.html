
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>书本习题</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body{
            width: 100vw;
            height: 100vh;
            position: relative;
            margin: 0;
            padding: 0;
        }
        .dog{
            width: 100px;
            position: absolute;
        }

    </style>
</head>
<body>

    <img src="dog.gif" class="dog dog1" alt="">
    <img src="dog.gif" class="dog dog2" alt="">
    <img src="dog.gif" class="dog dog3" alt="">

    <input type="text">

<script>
    //14-2
    var dog1 = document.querySelector('.dog1')
    var dog2 = document.querySelector('.dog2')
    var dog3 = document.querySelector('.dog3')

    document.onmousemove = function(e){
        var mouseX = e.clientX
        var mouseY = e.clientY

        var lastTime = 0
        var angle = 0
        function animate(time){
            if(lastTime !== null){
                angle += (time - lastTime) * 0.1
            }
            lastTime = time

            dog1.style.top = Math.sin(angle) * 150 + mouseY-50 + 'px'
            dog1.style.left = Math.cos(angle) * 150 + mouseX-50 + 'px'

            dog2.style.top = Math.sin(angle-30) * 150 + mouseY-50 + 'px'
            dog2.style.left = Math.cos(angle-30) * 150 + mouseX-50 + 'px'

            dog3.style.top = Math.sin(angle-90) * 150 + mouseY-50 + 'px'
            dog3.style.left = Math.cos(angle-90) * 150 + mouseX-50 + 'px'

            requestAnimationFrame(animate)
        }
        requestAnimationFrame(animate)
    }



    //14-1
    var input = document.querySelector('input')
    input.onkeydown = function(e){
        if(e.key === 'q' || e.key === 'w' || e.key === 'x'){
            input.setAttribute('readonly','true')
        }else{
            input.removeAttribute('readonly')
        }
    }
    input.addEventListener('paste',function(e){
        console.log(e)
    })


    //2-1 LoopingaTriangle
    var a = ""
    for(var i=0;i<7;i++){
        a = a + "#"
        console.log(a)
    }

    //2-2 FizzBuzz
    for(var i=0;i<=100;i++){
        if(i%3==0 && i%5==0){
            console.log(i,'FizzBuzz')
        }else if(i%5==0 && i%3!==0){
            console.log(i,'Buzz')
        }else if(i%3==0 && i%5!==0){
            console.log(i,'Fizz')
        }else{
            console.log(i)
        }
    }

    //2-3 棋盘
    var size = 8,
        str = ''
    for(var i=0;i<size;i++){

        for(var a=0; a<size;a++){
            if((a+i)%2!==0){
                str = str + ' '
            }else{
                str = str + '#'
            }
        }

        str = str + '\n'
    }
    console.log(str)


    //3-1最小值
    function findMin(a,b){
        if(a==b){
            console.log('两值相等没有最小值')
            document.writeln('两值相等没有最小值')
        }else if(a<b){
            console.log('最小值' + a)
            document.writeln('最小值' + a)
        }else{
            console.log('最小值' + b)
            document.writeln('最小值' + b)
        }
    }
    // var min1 = prompt('输入第一个数字')
    // var min2 = prompt('输入第一个数字')
    // findMin(min1,min2)
    findMin(8,90)



    //3-2递归
    function isEven(number){
        if(number < 0){
            number = -number
        }
        if(number == 0){
            console.log('true')
            return true
        }else if(number == 1){
            console.log('false')
            return false
        }else{
            isEven(number - 2)
        }
    }
    isEven(50)
    isEven(75)
    isEven(-1)



    //3-3字符计数
    function countBs(string){
        var count = 0
        for(var i=0;i<string.length;i++){
            if(string.charAt(i) == 'B'){
                count = count + 1
            }
        }
        console.log(count)
    }
    countBs('ASHIAWNGKNEAKGNDSKNBKADJBASDFJB')

    function countChar(string,char){
        var count = 0
        for(var i=0;i<string.length;i++){
            if(string.charAt(i) == char){
                count = count + 1
            }
        }
        console.log(count)
    }
    countChar('ASHIAWNGKNEAKGNDSKNBKADJBASDFJB','B')

    //4-1
    function range(start,end){

    }



    //8-1
    function primitiveMultiply(a,b){
        if(Math.random()>0.5){
            return a*b
        }else{
            throw new MultiplicatorUnitFailure('xxx')
        }
    }
    class MultiplicatorUnitFailure extends Error{
        constructor(msg){
            super(msg)
        }
    }
    function multiply(a,b){
        while(true){
            try{
                return primitiveMultiply(a, b)
            }catch(e){
                if(e instanceof MultiplicatorUnitFailure){
                    continue
                }else{
                    throw e
                }
            }
        }

    }

</script>
</body>
</html>